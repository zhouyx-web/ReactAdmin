[{"F:\\Web-Projects\\workspace\\admin-client\\src\\index.js":"1","F:\\Web-Projects\\workspace\\admin-client\\src\\app.js":"2","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\login\\login.jsx":"3","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\admin\\admin.jsx":"4","F:\\Web-Projects\\workspace\\admin-client\\src\\api\\index.js":"5","F:\\Web-Projects\\workspace\\admin-client\\src\\api\\ajax.js":"6","F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\memeoryUtils.js":"7","F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\storageUtils.js":"8","F:\\Web-Projects\\workspace\\admin-client\\src\\components\\left-nav\\index.jsx":"9","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\home\\home.jsx":"10","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\category\\category.jsx":"11","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\product.jsx":"12","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\user\\user.jsx":"13","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\role\\role.jsx":"14","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\charts\\line.jsx":"15","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\charts\\pie.jsx":"16","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\charts\\bar.jsx":"17","F:\\Web-Projects\\workspace\\admin-client\\src\\config\\menuConfig.js":"18","F:\\Web-Projects\\workspace\\admin-client\\src\\components\\header\\index.jsx":"19","F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\dateUtils.js":"20","F:\\Web-Projects\\workspace\\admin-client\\src\\components\\link-button\\link-button.jsx":"21","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\category\\updateForm.jsx":"22","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\category\\addForm.jsx":"23","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\add-update.jsx":"24","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\detail.jsx":"25","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\home.jsx":"26","F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\constants.js":"27","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\picture-wall.jsx":"28","F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\rich-text-editor.jsx":"29"},{"size":318,"mtime":1608094690309,"results":"30","hashOfConfig":"31"},{"size":1083,"mtime":1608116207549,"results":"32","hashOfConfig":"31"},{"size":7159,"mtime":1608098689265,"results":"33","hashOfConfig":"31"},{"size":2528,"mtime":1608700579012,"results":"34","hashOfConfig":"31"},{"size":1918,"mtime":1608712260261,"results":"35","hashOfConfig":"31"},{"size":1202,"mtime":1608207147379,"results":"36","hashOfConfig":"31"},{"size":406,"mtime":1608115434515,"results":"37","hashOfConfig":"31"},{"size":1206,"mtime":1608195216163,"results":"38","hashOfConfig":"31"},{"size":3851,"mtime":1608559548513,"results":"39","hashOfConfig":"31"},{"size":383,"mtime":1608269600992,"results":"40","hashOfConfig":"31"},{"size":6823,"mtime":1608384103560,"results":"41","hashOfConfig":"31"},{"size":669,"mtime":1608538709649,"results":"42","hashOfConfig":"31"},{"size":203,"mtime":1608107600658,"results":"43","hashOfConfig":"31"},{"size":203,"mtime":1608107703071,"results":"44","hashOfConfig":"31"},{"size":203,"mtime":1608107683902,"results":"45","hashOfConfig":"31"},{"size":201,"mtime":1608107676724,"results":"46","hashOfConfig":"31"},{"size":201,"mtime":1608107666465,"results":"47","hashOfConfig":"31"},{"size":1654,"mtime":1608115372792,"results":"48","hashOfConfig":"31"},{"size":3998,"mtime":1608615670562,"results":"49","hashOfConfig":"31"},{"size":408,"mtime":1608209920024,"results":"50","hashOfConfig":"31"},{"size":300,"mtime":1608210649554,"results":"51","hashOfConfig":"31"},{"size":1427,"mtime":1608382561556,"results":"52","hashOfConfig":"31"},{"size":2391,"mtime":1608384320452,"results":"53","hashOfConfig":"31"},{"size":9344,"mtime":1608712327341,"results":"54","hashOfConfig":"31"},{"size":4025,"mtime":1608704702578,"results":"55","hashOfConfig":"31"},{"size":7346,"mtime":1608606246030,"results":"56","hashOfConfig":"31"},{"size":167,"mtime":1608641236667,"results":"57","hashOfConfig":"31"},{"size":5270,"mtime":1608644095373,"results":"58","hashOfConfig":"31"},{"size":2831,"mtime":1608709507218,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"3lfr3n",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"62"},"F:\\Web-Projects\\workspace\\admin-client\\src\\index.js",[],["120","121"],"F:\\Web-Projects\\workspace\\admin-client\\src\\app.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\login\\login.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\admin\\admin.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\api\\index.js",["122"],"F:\\Web-Projects\\workspace\\admin-client\\src\\api\\ajax.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\memeoryUtils.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\storageUtils.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\components\\left-nav\\index.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\home\\home.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\category\\category.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\product.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\user\\user.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\role\\role.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\charts\\line.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\charts\\pie.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\charts\\bar.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\config\\menuConfig.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\components\\header\\index.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\dateUtils.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\components\\link-button\\link-button.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\category\\updateForm.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\category\\addForm.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\add-update.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\detail.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\home.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\utils\\constants.js",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\picture-wall.jsx",[],"F:\\Web-Projects\\workspace\\admin-client\\src\\pages\\product\\rich-text-editor.jsx",["123"],"import React, { Component } from 'react'\r\nimport { EditorState, convertToRaw, ContentState } from 'draft-js'\r\nimport { Editor } from 'react-draft-wysiwyg'\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport htmlToDraft from 'html-to-draftjs'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport '../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\n\r\nexport default class RichTextEditor extends Component {\r\n\r\n    static propTypes = {\r\n        detail: PropTypes.string\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        // 初始化编辑器状态\r\n        const { detail } = this.props\r\n        if (detail) {\r\n            // 将初始带html标签的字符串转换成draft\r\n            const contentBlock = htmlToDraft(detail)\r\n            if (contentBlock) {\r\n                const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks)\r\n                const editorState = EditorState.createWithContent(contentState)\r\n                this.state = {\r\n                    editorState,\r\n                }\r\n            }\r\n        } else {\r\n            this.state = {\r\n                editorState: EditorState.createEmpty(),\r\n            }\r\n        }\r\n    }\r\n\r\n    // 点击提交按钮时，父组件调用此函数获取html格式的文本字符串\r\n    getHtmlFromEditorState = () => {\r\n        return draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\r\n    }\r\n\r\n    uploadImageCallBack = file => {\r\n        return new Promise(\r\n            (resolve, reject) => {\r\n              const xhr = new XMLHttpRequest()\r\n              xhr.open('POST', '/manage/img/upload')\r\n              const data = new FormData()\r\n              data.append('image', file)\r\n              xhr.send(data)\r\n              xhr.addEventListener('load', () => {\r\n                const response = JSON.parse(xhr.responseText)\r\n                const url = response.data.url\r\n                resolve(response)\r\n              })\r\n              xhr.addEventListener('error', () => {\r\n                const error = JSON.parse(xhr.responseText)\r\n                reject(error)\r\n              })\r\n            }\r\n          )\r\n    }\r\n\r\n    onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n            editorState,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { editorState } = this.state\r\n        return (\r\n            <Editor\r\n                editorState={editorState}\r\n                toolbar={{\r\n                    image: { uploadCallback: this.uploadImageCallBack, alt: { present: true, mandatory: true } },\r\n                }}\r\n                wrapperStyle={{ width: 900 }}\r\n                editorStyle={{ border: '1px black solid', minHeight: 250, padding: '0 10px' }}\r\n                onEditorStateChange={this.onEditorStateChange}\r\n            />\r\n        )\r\n    }\r\n}",{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","replacedBy":"127"},{"ruleId":"128","severity":1,"message":"129","line":4,"column":9,"nodeType":"130","messageId":"131","endLine":4,"endColumn":16},{"ruleId":"128","severity":1,"message":"132","line":52,"column":23,"nodeType":"130","messageId":"131","endLine":52,"endColumn":26},"no-native-reassign",["133"],"no-negated-in-lhs",["134"],"no-unused-vars","'message' is defined but never used.","Identifier","unusedVar","'url' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]